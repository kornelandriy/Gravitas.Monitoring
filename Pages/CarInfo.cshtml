@page
@model Gravitas.Monitoring.Pages.CarInfoModel
@using Gravitas.Monitoring.HelpClasses
@{
	ViewData["Title"] = "Авто";
	bool fr = true;
	string g = "0";
}
<div class="row" style="margin-top:3px; margin-bottom: 5px;">
	<div class="col-3">
		<a href="./CarList" class="btn btn-primary w-100">⏪ Назад до списку авто</a>
	</div>
	<div class="col-3">
		<a href="./Replacelabel?tc=@Model.CurTC" class="btn btn-primary w-100">🔍 Пошук міток</a>
	</div>
</div>
<duv class="row">
	<div class="col-6">
		<h3>Маршрут</h3>
		<p>@Model.RouteNane</p>
		<table class="yozhstyle1" style="display:inline-block;">
			<tr><td class="brdr1sb headercolor"><center>Група</center></td><td class="brdr1sb headercolor"><center>Вузли</center></td></tr>
			@foreach (string[] rs in Model.Route)
			{
				if (rs[0] == Model.LastRouteItem)
				{
					<tr><td class="brdr1sb">👉@rs[0]</td><td class="brdr1sb">@Html.Raw(rs[1])</td></tr>
				}
				else
				{
					<tr><td class="brdr1sb">@rs[0]</td><td class="brdr1sb">@Html.Raw(rs[1])</td></tr>
				}
			}
		</table>
		<p>
			Останнє пройдене:<br />
			Група: @Model.LastRouteItem<br />
			Вузол: [@Model.LastRouteNode] - @Model.LastRouteNodeName
		</p>

	</div>
	<div class="col-6">
		<h3>Картки і мітки</h3>
		<table class="yozhstyle1" style="display:inline-block;">
			<tr><td colspan="3" class="brdr1sb headercolor">Картка водія</td></tr>
			@foreach (string[] s in Model.lst1)
			{
				<tr><td class="brdr1sb">@s[0]</td><td class="brdr1sb">@s[1]</td></tr>
			}
			<tr><td colspan="3" class="brdr1sb headercolor">Мітка авто</td></tr>
			@foreach (string[] s in Model.lst2)
			{
				<tr><td class="brdr1sb">@s[0]</td><td class="brdr1sb">@s[1]</td></tr>
			}
			<tr><td colspan="3" class="brdr1sb headercolor">Картка лотка</td></tr>
			@foreach (string[] s in Model.lst3)
			{
				<tr><td class="brdr1sb">@s[0]</td><td class="brdr1sb">@s[1]</td></tr>
			}
		</table><br /><br />
	</div>
</duv>
<div class="row">
	<br />
	<br />
	<h3>Проходження вузлів на маршруті</h3>
	<div style="overflow: auto;">
		<table Class="yozhstyle1" style="display: inline-block; margin-bottom: 8px;">
			@{
				int c = 0;
			}
			@foreach (string[] s in Model.CarProgress)
			{
				<tr>
					@foreach (string ss in s)
					{
						@if (c == 0)
						{
							<td class="brdr1sb headercolor">
								@Html.Raw(ss)
							</td>
						}
						else
						{
							<td class="brdr1sb">
								@Html.Raw(ss)
							</td>
						}
					}
				</tr>
				c++;
			}
		</table>
	</div>
</div>
<br />
<div class="row">
	<br />
	<br />
	<h3>Тікети</h3>


	<br /><br /><b>Тікети(ТТН)(@Model.TicketsList.Count)</b>
	<table class="yozhstyle1" style="display:block;">
		<tr>
			<td class="brdr1sb headercolor">id</td>
			<td class="brdr1sb headercolor">Статус</td>
			<td class="brdr1sb headercolor">Маршрут</td>
			<td class="brdr1sb headercolor">Етап</td>
			<td class="brdr1sb headercolor">Доп. маршрут</td>
			<td class="brdr1sb headercolor">Доп. етап</td>
			<td class="brdr1sb headercolor">✏️</td>
		</tr>
		@foreach (string[] s in Model.TicketsList)
		{
			<tr>
				<td class="brdr1sb">@s[5]</td>
				<td class="brdr1sb">@s[0]</td>
				<td class="brdr1sb">@s[1]</td>
				<td class="brdr1sb">@s[2]</td>
				<td class="brdr1sb">@s[3]</td>
				<td class="brdr1sb">@s[4]</td>
				<td class="brdr1sb"><a href="./TicketEdit?t=@s[5]" class="btn btn-primary">✏️</a></td>
			</tr>
		}
	</table>


</div>
<br />
<a href="./CarList" class="btn btn-primary">⏪ Назад до списку авто</a>