@page
@model Gravitas.Monitoring.Pages.NodesModel
@{
	ViewData["Title"] = "Вузли";
}
<form method="post">
	<div class="row">
		<div class="col-6">
			<fieldset>
				@foreach (string[] s in Model.nodes)
				{
					if (Model.CurNode == s[0])
					{
						<label><input type="radio" asp-for="CurNode" value="@s[0]" checked />(@s[0]) @s[3]</label>
					}
					else
					{
						<label><input type="radio" asp-for="CurNode" value="@s[0]" />(@s[0]) @s[3]</label>
					}
					<br />
				}
			</fieldset>
		</div>
		<div class="col-6">
			<p>Вибраний вузол</p>
			<p style="font-size: 24pt;">(@Model.CurNode) - @Model.CurNodeName</p>
			<p>Обладнання вузла</p>
			<div style="width: 100%; min-height: 200px; border: 1px solid black; background-color: #ffffee; ">
				@foreach (string[] nDevice in Model.CurDevices)
				{
					<a href="./Device?DeviceId=@nDevice[0]" class="btn btn-primary" style="margin: 2px;" title="@nDevice[0]"> @nDevice[1] </a>
					<br />
				}
			</div><br />
			<p>Стан вузла</p>
			<div style="width: 100%; min-height: 200px; border: 1px solid black; background-color: #ffffee">
				<table>
					@foreach (string[] sContext in Model.NodeContext)
					{
						<tr><td>@sContext[0]</td><td>@sContext[1]</td></tr>
					}
				</table>
			</div>

			<br />
			<input type="hidden" asp-for="CurNode" />
			<button type="submit" class="btn btn-primary">🔃 Отримати дані</button><br /><br />
		</div>
	</div>
</form>