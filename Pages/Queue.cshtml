@page
@model Gravitas.Monitoring.Pages.QueueModel
@using Gravitas.Monitoring.Constants
@inject SignInManager<IdentityUser> SignInManager
@{
}
<div class="row">
	<div class="col-2">
		<a href="./" class="btn btn-primary w-100 m-1">
			<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-arrow-left-short" viewBox="0 0 16 16">
				<path fill-rule="evenodd" d="M12 8a.5.5 0 0 1-.5.5H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5a.5.5 0 0 1 .5.5" />
			</svg>
			Назад до панелі
		</a>
	</div>
	<div class="col-8" style="font-size: 26pt; font-weight:700;">
		<center>
			Черга
		</center>
	</div>
	<div class="col-2">
	</div>
</div>
<b>
	<div class="row yozhstyle1" style="margin-bottom:15px; margin-top:5px; background-color: #eee;">
		<div class="col-1" style="text-align:center;">Тікет Контейнер</div>
		<div class="col-1" style="text-align:center;">Реєстрація</div>
		<div class="col-1" style="text-align:center;">Авто</div>
		<div class="col-1" style="text-align:center;">Телефон</div>
		<div class="col-1" style="text-align:center;">Дозвіл на в'їзд</div>
		<div class="col-1" style="text-align:center;">SMS відправлено?</div>
		<div class="col-1" style="text-align:center;">SMS<br />дата і час</div>
		<div class="col-4" style="text-align:center;">Маршрут</div>
		<div class="col-1" style="text-align:center;">
			<svg fill="#000000" height="32px" width="32px" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
				 viewBox="0 0 460 460" xml:space="preserve">
<g>
			<path d="M73.742,360.816c2.138,0,4.293-0.683,6.115-2.094c4.367-3.381,5.166-9.662,1.785-14.029
		C56.026,311.61,42.487,271.95,42.487,230c0-103.395,84.118-187.513,187.513-187.513c24.334,0,48.004,4.589,70.352,13.641
		c5.118,2.073,10.948-0.396,13.022-5.515c2.073-5.119-0.396-10.949-5.515-13.022C283.115,27.568,256.92,22.487,230,22.487
		c-114.423,0-207.513,93.09-207.513,207.513c0,46.423,14.987,90.317,43.341,126.937C67.798,359.483,70.753,360.816,73.742,360.816z" />
			<path d="M394.177,103.069c-3.382-4.368-9.662-5.167-14.029-1.786c-4.367,3.381-5.167,9.662-1.786,14.029
		c25.612,33.082,39.15,72.74,39.15,114.688c0,103.395-84.118,187.513-187.513,187.513c-24.332,0-48-4.589-70.346-13.639
		c-5.119-2.072-10.949,0.396-13.022,5.515c-2.073,5.119,0.396,10.949,5.515,13.022c24.743,10.021,50.937,15.102,77.854,15.102
		c114.423,0,207.513-93.09,207.513-207.513C437.513,183.58,422.528,139.688,394.177,103.069z" />
			<path d="M358.098,226.912c-1.338-4.121-5.178-6.912-9.511-6.912h-72.754L422.58,15.837c2.865-3.986,2.413-9.461-1.066-12.924
		c-3.479-3.462-8.956-3.888-12.929-1.004l-303.046,220c-3.507,2.545-4.975,7.06-3.637,11.181c1.338,4.121,5.178,6.912,9.511,6.912
		h72.754L37.42,444.164c-2.865,3.986-2.413,9.461,1.066,12.924c1.935,1.926,4.488,2.912,7.057,2.912c2.05,0,4.109-0.628,5.872-1.908
		l303.046-220C357.968,235.547,359.436,231.033,358.098,226.912z M89.868,405.463L211.79,235.837
		c2.189-3.046,2.49-7.061,0.778-10.399c-1.711-3.338-5.147-5.438-8.898-5.438h-61.46L370.132,54.537L248.21,224.164
		c-2.189,3.046-2.49,7.061-0.778,10.399c1.711,3.338,5.147,5.438,8.898,5.438h61.46L89.868,405.463z" />
</g>
</svg>
		</div>
	</div>
</b>
@if (Model.qList.Count > 0)
{
	<div>Знайдено @Model.qList.Count авто</div>
}
else
{
	<div>В черзі авто не знайдено</div>
}
Result: @Model.Result
@foreach (string[] s in Model.qList)
{
	<div class="row yozhstyle1" style="margin-bottom:15px;">
		<div class="col-1 brdr1sb" style="text-align:center;">@s[0]</div>
		<div class="col-1" style="text-align:center;">@s[1]</div>
		<div class="col-1" style="text-align:center;">@s[2]</div>
		<div class="col-1" style="text-align:center;">@s[3]</div>
		<div class="col-1" style="text-align:center;">
			@if (s[4] == "True")
			{
				<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-check-square" style="fill:lime" viewBox="0 0 16 16">
					<path d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z" />
					<path d="M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425z" />
				</svg>
			}
			else
			{
				<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-x-square" style="fill:red" viewBox="0 0 16 16">
					<path d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z" />
					<path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708" />
				</svg>
			}
		</div>
		<div class="col-1" style="text-align:center;">
			@if (s[5] == "True")
			{
				<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-check-square" style="fill:lime" viewBox="0 0 16 16">
					<path d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z" />
					<path d="M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425z" />
				</svg>
			}
			else
			{
				<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-x-square" style="fill:red" viewBox="0 0 16 16">
					<path d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z" />
					<path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708" />
				</svg>
			}
		</div>
		<div class="col-1" style="text-align:center;">@s[6]</div>
		<div class="col-4">@s[7]</div>
		<div class="col-1">
			@if (SignInManager.IsSignedIn(User))
			{
				@if (User.IsInRole(UserRoles.Admin) || User.IsInRole(UserRoles.Modifier))
				{
					@if (s[4] != "True" && s[4] != "True")
					{
						<form method="post">
							<input type="hidden" asp-for="qId" value="@s[8]" />
							<button type="submit" class="btn btn-primary w-100">Виклик</button>
						</form>
					}
				}

			}
		</div>
	</div>
}

